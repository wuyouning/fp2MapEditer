<!DOCTYPE html>
<html lang="cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.CSS">
    <link rel="stylesheet" href="savingPopup.css">

    <script src="index.JS" defer></script>
    <script src="FP2MapEditer0.0.4.js" defer></script>
    <script src="RegionInfoCard.js" defer></script>

    <script src="server.js" defer></script> 
    <script src="./admin/user.js" defer></script>
    <script src="./db.js" defer></script>
    <script src="HexGridListView.js" defer></script>

    
    <title>冰汽时代2 - 区域规划器</title>
    <meta name="description" content="冰汽时代编辑器为您提供详细的地图编辑功能，帮助玩家进行冰汽时代地图规划与设计，实现您的规划梦想。">
    <meta name="keywords" content="冰汽时代编辑器, 冰汽时代地图, 冰汽时代规划, 冰汽时代2, 地图编辑器, 地图规划工具, 冰汽时代2城市规划, 冰汽时代2区域, frostpunk2">
    <meta name="baidu-site-verification" content="codeva-AX1c5aghP3" />
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebPage",
            "name": "冰汽时代地图编辑器 - 区域规划工具",
            "description": "冰汽时代编辑器为您提供详细的地图编辑功能，帮助玩家进行冰汽时代地图规划与设计，实现您的规划梦想。",
            "url": "https://www.yourwebsite.com",
            "creator": {
                "@type": "Person",
                "name": "吴锐东"
            }
        }
    </script>
</head>

<body>
    <header class="navbar"> <!-- 第一层，顶部导航栏 -->
        <div class="title">冰汽时代 2 - 区域规划器</div>
    </header>
    <div id="sidebar" class="sidebar">
        <div id="buttonContainer" class="button-container">
            <button id="toggleButton1" class="toggle-button" onclick="toggleToolbar('toolbar1', this)">
                <img src="/images/刷子-亮.png" alt="冰汽时代地图编辑器 - 笔刷工具" class="button-icon">
                <span class="button-text">笔刷工具</span>
            </button>

            <button id="toggleButton2" class="toggle-button" onclick="toggleToolbar('toolbar2', this)">
                <img src="/images/数据表-亮.png" alt="冰汽时代地图规划 - 区域数据图标" class="button-icon">
                <span class="button-text">区域数据</span>
            </button>

            <button id="toggleButton3" class="toggle-button" onclick="toggleToolbar('toolbar3', this)">
                <img src="/images/提示说明.png" alt="冰汽时代地图编辑器 - 关于与支持图标" class="button-icon">
                <span class="button-text">学院公告</span>
            </button>

            <button id="toggleButton4" class="toggle-button" onclick="toggleToolbarFullScreen('publicHexGridBar', this)" >
                <img src="/images/刷子-亮.png" alt="冰汽时代地图编辑器 - 公共规划" class="button-icon" >
                <span class="button-text" >规划广场</span>
            </button>

            <button id="privateHexGrids" class="toggle-button" onclick="toggleToolbarFullScreen('privateHexGridBar', this)" style="display: none;">
                <img src="/images/刷子-亮.png" alt="冰汽时代地图编辑器 - 我的规划" class="button-icon" >
                <span class="button-text" >我的规划</span>
            </button>

            <button id="loginButton" class="toggle-button" onclick="loginToggle()" >
                <img src="/images/刷子-亮.png" alt="冰汽时代地图编辑器 - 登录按钮" class="button-icon" >
                <span class="button-text" >登录</span>
            </button>

            <button id="infoButton" class="toggle-button" onclick="userManager.logout()" style="display: none;">
                <img src="/images/刷子-亮.png" alt="冰汽时代地图编辑器 - 个人信息" class="button-icon" >
                <span id= loginedName class="button-text" >个人信息</span>
            </button>
        </div>
    </div>
    <!-- 弹出来的区域 -->
    <div id="toolbar1" class="toolbar toolbar1">

    </div>
    <div id="toolbar2" class="toolbar toolbar2">

    </div>
    <div id="toolbar3" class="toolbar">
        <div id="introduction-content" class="content-section">
          <h2>亲爱的执政官</h2>
          <p>欢迎你来到执政官学院使用此区域模拟规划工具，在这里你可以通过绘制六边形来完成冰霜荒地的初步规划。在这个冰汽时代，谨慎选择和深思熟虑将为人民们获得光明温暖的未来。</p>
        </div>

        <div id="additional-content" class="content-section">
          <h2>支持我们的工作</h2>
          <p>如果你喜欢这个工具并希望支持我们的持续开发，请考虑使用下方的赞赏码或收款码给予支持。非常感谢你的帮助！</p>
        </div>

        <div id="donation-content" class="content-section">
            <h2>支持我们的工作</h2>
            <p>维护服务器和域名不易，代码开发也是纯粹为爱发电！</p>
        </div>

        <div class="image-section">
          <img src="images/我的赞善码.jpg" alt="冰汽时代地图编辑器支持赞赏码" class="support-image">
          <img src="images/我的收款码.jpg" alt="冰汽时代地图编辑器收款码" class="support-image">
        </div>

        <div class="link-container">
            <div class="linkStyle content-section">
                <a href="https://space.bilibili.com/117133650" target="_blank">
                    <img src="images/b站.png" alt="bilibili网站上的我的频道" >
                    <p>我的B站</p>
                </a>
            </div>
            <div class="linkStyle content-section">
                <a href="https://store.steampowered.com/app/1601580/2/?l=schinese" target="_blank">
                    <img src="images/steam.png" alt="冰汽时代2 Steam购买链接" >
                    <p>冰汽时代2-Steam</p>
                </a>
            </div>
            <div class="linkStyle content-section">
                <a href="https://frostpunk2.com/" target="_blank">
                    <img src="images/fp2.jpg" alt="冰汽时代2 官网">
                    <p>冰汽时代2</p>
                </a>
            </div>
        </div>
        
        
    </div>

    <div id="privateHexGridBar" class="toolbar hexGridBar">

    </div>

    <div id="publicHexGridBar" class="toolbar hexGridBar">

    </div>

    <button id="saveButton" class="hex-button" onclick="toggleSaveSwitch()">
        保存
    </button>


    <div class= "main-content" style="position: relative;">
        <canvas id="hexCanvas" ></canvas>
        <canvas id="labelCanvas"></canvas>
        <canvas id="tipsCanvas"></canvas>
    </div>

    <div id="loginModal" style="display: none;">
        <h2>用户登录</h2>
        <input type="text" id="username" placeholder="用户名" maxlength="16">
        <input type="password" id="password" placeholder="密码" maxlength="16">
        <input type="text" id="phone" placeholder="手机号码" maxlength="11">
        <button class="login" onclick="userManager.login(document.getElementById('username').value, document.getElementById('password').value, document.getElementById('phone').value)">登录</button>
        <button class="cancel" onclick="userManager.cancel()">取消</button>
        <p id="message" style="color: red;"></p>
    </div>

    <div id="savingPopup" class="savingPopup" style="display: none;">
        <div class="savingPopup-content">
          <h3>法阵名称</h3>
          <textarea id="savingPopup-spellName" maxlength="60" placeholder="请输入法阵名称..."></textarea>
          
          <h3>描述</h3>
          <textarea id="savingPopup-description" maxlength="1000" placeholder="请输入描述..."></textarea>
          
          <div class="savingPopup-toggle-container">
            <div id="savingPopup-toggleButton" class="savingPopup-toggle" onclick="togglePushPublicSwitch()">
              <div class="savingPopup-toggle-circle"></div>
            </div>
            <span>是否发布到广场</span>
          </div>
          
          <div id="savingPopup-errorMessage" class="savingPopup-error-message"></div>

          <div class="savingPopup-button-group">
            <button class="savingPopup-button savingPopup-add" onclick="hexGrid.save()">新增</button>
            <button id="editButton" class="savingPopup-button savingPopup-edit" style="display: none;" onclick="hexGrid.updateProperties(true)" >修改</button>
            <button class="savingPopup-button savingPopup-cancel" onclick="toggleSaveSwitch()">关闭</button>
          </div>
        </div>
      </div>

</body>

</html>